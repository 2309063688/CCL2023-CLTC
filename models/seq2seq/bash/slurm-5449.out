Generating ...
2023-06-02 11:03:48 | INFO | fairseq_cli.interactive | Namespace(all_gather_list_size=16384, bart_model_file_from_transformers=None, batch_size=32, batch_size_valid=32, beam=12, bf16=False, bpe=None, broadcast_buffers=False, bucket_cap_mb=25, buffer_size=10000, checkpoint_shard_count=1, checkpoint_suffix='', conll_file='', conll_suffix=['conll'], constraints=None, cpu=False, criterion='cross_entropy', curriculum=0, data='../preprocess/yaclc-minimal_dev_1739/bin', data_buffer_size=10, dataset_impl=None, ddp_backend='c10d', decoding_format=None, device_id=0, disable_validation=False, distributed_backend='nccl', distributed_init_method=None, distributed_no_spawn=False, distributed_num_procs=1, distributed_port=-1, distributed_rank=0, distributed_world_size=1, distributed_wrapper='DDP', diverse_beam_groups=-1, diverse_beam_strength=0.5, diversity_rate=-1.0, dpd_file='', dpd_suffix=['dpd'], empty_cache_freq=0, eval_bleu=False, eval_bleu_args=None, eval_bleu_detok='space', eval_bleu_detok_args=None, eval_bleu_print_samples=False, eval_bleu_remove_bpe=None, eval_tokenized_bleu=False, fast_stat_sync=False, find_unused_parameters=False, fix_batches_to_gpus=False, fixed_validation_seed=None, force_anneal=None, fp16=True, fp16_init_scale=128, fp16_no_flatten_grads=False, fp16_scale_tolerance=0.0, fp16_scale_window=None, gen_subset='test', input='-', iter_decode_eos_penalty=0.0, iter_decode_force_max_iter=False, iter_decode_max_iter=10, iter_decode_with_beam=1, iter_decode_with_external_reranker=False, left_pad_source='True', left_pad_target='False', lenpen=1, lm_path=None, lm_weight=0.0, load_alignments=False, localsgd_frequency=3, log_format='tqdm', log_interval=100, lr_scheduler='fixed', lr_shrink=0.1, match_source_len=False, max_len_a=0, max_len_b=200, max_source_positions=512, max_target_positions=1024, max_tokens=None, max_tokens_valid=None, memory_efficient_bf16=False, memory_efficient_fp16=False, min_len=1, min_loss_scale=0.0001, model_overrides='{}', model_parallel_size=1, nbest=1, no_beamable_mm=False, no_early_stop=False, no_progress_bar=False, no_repeat_ngram_size=0, no_seed_provided=False, nprocs_per_node=1, num_batch_buckets=0, num_shards=1, num_workers=12, optimizer=None, output_file='../model/finetune-i/yaclc-minimal_dev_1739/seed_5023/results/yaclc-minimal_test.out.nbest', path='../model/finetune-i/yaclc-minimal_dev_1739/seed_5023/checkpoint_best.pt', pipeline_balance=None, pipeline_checkpoint='never', pipeline_chunks=0, pipeline_decoder_balance=None, pipeline_decoder_devices=None, pipeline_devices=None, pipeline_encoder_balance=None, pipeline_encoder_devices=None, pipeline_model_parallel=False, prefix_size=0, print_alignment=False, print_step=False, probs_file='', probs_suffix=['probs'], profile=False, quantization_config_path=None, quiet=False, remove_bpe='@@ ', replace_unk=None, required_batch_size_multiple=8, required_seq_len_multiple=1, results_path=None, retain_dropout=False, retain_dropout_modules=None, retain_iter_history=False, sacrebleu=False, sampling=False, sampling_topk=-1, sampling_topp=-1.0, score_reference=False, scoring='bleu', seed=1, shard_id=0, skip_invalid_size_inputs_valid_test=False, slowmo_algorithm='LocalSGD', slowmo_momentum=None, source_lang='src', source_lang_with_nt='src_nt', src_nt_file=None, swm_suffix='swm', syntax_encoder='GCN', syntax_model_file=None, syntax_type=['dep'], target_lang='tgt', task='syntax-enhanced-translation', temperature=1.0, tensorboard_logdir=None, threshold_loss_scale=None, tokenizer=None, tpu=False, train_subset='train', truncate_source=False, unkpen=0, unnormalized=False, upsample_primary=1, use_dpd=False, use_syntax=False, user_dir='../src/src_syngec/syngec_model', valid_subset='valid', validate_after_updates=0, validate_interval=1, validate_interval_updates=0, warmup_updates=0, zero_sharding='none')
2023-06-02 11:03:48 | INFO | syngec_model.syntax_guided_gec_task | [src] dictionary: 21132 types
2023-06-02 11:03:48 | INFO | syngec_model.syntax_guided_gec_task | [tgt] dictionary: 21132 types
2023-06-02 11:03:48 | INFO | syngec_model.syntax_guided_gec_task | [syntax label0] dictionary: 51 types
2023-06-02 11:03:48 | INFO | fairseq_cli.interactive | loading model(s) from ../model/finetune-i/yaclc-minimal_dev_1739/seed_5023/checkpoint_best.pt
2023-06-02 11:04:04 | INFO | fairseq_cli.interactive | Sentence buffer size: 10000
2023-06-02 11:04:04 | INFO | fairseq_cli.interactive | NOTE: hypothesis and token scores are output in base 2
2023-06-02 11:04:04 | INFO | fairseq_cli.interactive | Type the input sentence and press return:
0it [00:00, ?it/s]2023-06-02 11:04:05 | INFO | fairseq.data.language_pair_dataset | no syntax information!
/public/home/swfeng/ymliu/ccl23-cltc/src/src_syngec/fairseq-0.10.2/fairseq/search.py:140: UserWarning: __floordiv__ is deprecated, and its behavior will change in a future version of pytorch. It currently rounds toward 0 (like the 'trunc' function NOT 'floor'). This results in incorrect rounding for negative values. To keep the current behavior, use torch.div(a, b, rounding_mode='trunc'), or for actual floor division, use torch.div(a, b, rounding_mode='floor').
  beams_buf = indices_buf // vocab_size
/public/home/swfeng/ymliu/ccl23-cltc/src/src_syngec/fairseq-0.10.2/fairseq/sequence_generator.py:651: UserWarning: __floordiv__ is deprecated, and its behavior will change in a future version of pytorch. It currently rounds toward 0 (like the 'trunc' function NOT 'floor'). This results in incorrect rounding for negative values. To keep the current behavior, use torch.div(a, b, rounding_mode='trunc'), or for actual floor division, use torch.div(a, b, rounding_mode='floor').
  unfin_idx = idx // beam_size
1it [00:02,  2.39s/it]2it [00:02,  1.18s/it]3it [00:03,  1.27it/s]4it [00:03,  1.65it/s]5it [00:03,  2.00it/s]6it [00:04,  2.27it/s]7it [00:04,  2.45it/s]8it [00:04,  2.65it/s]9it [00:04,  2.76it/s]10it [00:05,  2.89it/s]11it [00:05,  2.93it/s]12it [00:05,  2.98it/s]13it [00:06,  3.00it/s]14it [00:06,  3.07it/s]15it [00:06,  3.06it/s]16it [00:07,  3.12it/s]17it [00:07,  3.10it/s]18it [00:07,  3.12it/s]19it [00:08,  3.00it/s]20it [00:08,  3.01it/s]21it [00:08,  2.96it/s]22it [00:09,  2.92it/s]23it [00:09,  2.81it/s]24it [00:10,  2.77it/s]25it [00:10,  2.79it/s]26it [00:10,  2.78it/s]27it [00:11,  2.76it/s]28it [00:11,  2.79it/s]29it [00:11,  2.79it/s]30it [00:12,  2.85it/s]31it [00:12,  2.85it/s]32it [00:12,  2.77it/s]33it [00:13,  2.80it/s]34it [00:13,  2.82it/s]35it [00:14,  2.60it/s]36it [00:14,  2.63it/s]37it [00:14,  2.62it/s]38it [00:15,  2.60it/s]39it [00:15,  2.61it/s]40it [00:15,  2.61it/s]41it [00:16,  2.64it/s]42it [00:16,  2.69it/s]43it [00:17,  2.74it/s]44it [00:17,  2.72it/s]45it [00:17,  2.69it/s]46it [00:18,  2.70it/s]47it [00:18,  2.74it/s]48it [00:18,  2.74it/s]49it [00:19,  2.73it/s]50it [00:19,  2.65it/s]51it [00:20,  2.63it/s]52it [00:20,  2.62it/s]53it [00:20,  2.60it/s]54it [00:21,  2.61it/s]55it [00:21,  2.60it/s]56it [00:21,  2.57it/s]57it [00:22,  2.58it/s]58it [00:22,  2.62it/s]59it [00:23,  2.61it/s]60it [00:23,  2.57it/s]61it [00:23,  2.58it/s]62it [00:24,  2.59it/s]63it [00:24,  2.59it/s]64it [00:25,  2.56it/s]65it [00:25,  2.54it/s]66it [00:25,  2.56it/s]67it [00:26,  2.49it/s]68it [00:26,  2.51it/s]69it [00:27,  2.48it/s]70it [00:27,  2.48it/s]71it [00:28,  2.21it/s]72it [00:28,  2.29it/s]73it [00:28,  2.35it/s]74it [00:29,  2.36it/s]75it [00:29,  2.39it/s]76it [00:30,  2.40it/s]77it [00:30,  2.40it/s]78it [00:30,  2.43it/s]79it [00:31,  2.39it/s]80it [00:31,  2.41it/s]81it [00:32,  2.40it/s]82it [00:32,  2.39it/s]83it [00:33,  2.39it/s]84it [00:33,  2.39it/s]85it [00:33,  2.39it/s]86it [00:34,  2.39it/s]87it [00:34,  2.41it/s]88it [00:35,  2.43it/s]89it [00:35,  2.38it/s]90it [00:35,  2.39it/s]91it [00:36,  2.39it/s]92it [00:36,  2.38it/s]93it [00:37,  2.34it/s]94it [00:37,  2.33it/s]95it [00:38,  2.31it/s]96it [00:38,  2.30it/s]97it [00:38,  2.30it/s]98it [00:39,  2.25it/s]99it [00:39,  2.26it/s]100it [00:40,  2.26it/s]101it [00:40,  2.27it/s]102it [00:41,  2.25it/s]103it [00:41,  2.24it/s]104it [00:42,  2.25it/s]105it [00:42,  2.23it/s]106it [00:43,  2.20it/s]107it [00:43,  2.17it/s]108it [00:44,  1.96it/s]109it [00:44,  2.02it/s]110it [00:45,  2.06it/s]111it [00:45,  2.07it/s]112it [00:45,  2.11it/s]113it [00:46,  2.13it/s]114it [00:46,  2.12it/s]115it [00:47,  2.14it/s]116it [00:47,  2.12it/s]117it [00:48,  2.13it/s]118it [00:48,  2.12it/s]119it [00:49,  2.14it/s]120it [00:49,  2.16it/s]121it [00:50,  2.14it/s]122it [00:50,  2.13it/s]123it [00:51,  2.13it/s]124it [00:51,  2.10it/s]125it [00:52,  2.11it/s]126it [00:52,  2.11it/s]127it [00:53,  2.10it/s]128it [00:53,  2.08it/s]129it [00:54,  2.07it/s]130it [00:54,  2.05it/s]131it [00:54,  2.05it/s]132it [00:55,  2.05it/s]133it [00:55,  2.04it/s]134it [00:56,  2.02it/s]135it [00:56,  2.00it/s]136it [00:57,  2.02it/s]137it [00:57,  2.05it/s]138it [00:58,  1.97it/s]139it [00:59,  1.96it/s]140it [00:59,  1.92it/s]141it [01:00,  1.91it/s]142it [01:00,  1.90it/s]143it [01:01,  1.91it/s]144it [01:01,  1.89it/s]145it [01:02,  1.90it/s]146it [01:02,  1.83it/s]147it [01:03,  1.68it/s]148it [01:04,  1.73it/s]149it [01:04,  1.76it/s]150it [01:05,  1.80it/s]151it [01:05,  1.81it/s]152it [01:06,  1.81it/s]153it [01:06,  1.86it/s]154it [01:07,  1.87it/s]155it [01:07,  1.84it/s]156it [01:08,  1.81it/s]157it [01:08,  1.78it/s]158it [01:09,  1.75it/s]159it [01:10,  1.74it/s]160it [01:10,  1.76it/s]161it [01:11,  1.76it/s]162it [01:11,  1.74it/s]163it [01:12,  1.75it/s]164it [01:13,  1.73it/s]165it [01:13,  1.71it/s]166it [01:14,  1.71it/s]167it [01:14,  1.71it/s]168it [01:15,  1.71it/s]169it [01:15,  1.69it/s]170it [01:16,  1.67it/s]171it [01:17,  1.67it/s]172it [01:17,  1.67it/s]173it [01:18,  1.69it/s]174it [01:18,  1.69it/s]175it [01:19,  1.68it/s]176it [01:20,  1.66it/s]177it [01:20,  1.66it/s]178it [01:21,  1.66it/s]179it [01:22,  1.65it/s]180it [01:22,  1.63it/s]181it [01:23,  1.62it/s]182it [01:23,  1.61it/s]183it [01:24,  1.59it/s]184it [01:25,  1.57it/s]185it [01:25,  1.56it/s]186it [01:26,  1.51it/s]187it [01:27,  1.50it/s]188it [01:27,  1.51it/s]189it [01:28,  1.51it/s]190it [01:29,  1.49it/s]191it [01:29,  1.50it/s]192it [01:30,  1.48it/s]193it [01:31,  1.46it/s]194it [01:31,  1.45it/s]195it [01:32,  1.45it/s]196it [01:33,  1.30it/s]197it [01:34,  1.32it/s]198it [01:35,  1.34it/s]199it [01:35,  1.37it/s]200it [01:36,  1.36it/s]201it [01:37,  1.37it/s]202it [01:38,  1.36it/s]203it [01:38,  1.35it/s]204it [01:39,  1.24it/s]205it [01:40,  1.24it/s]206it [01:41,  1.25it/s]207it [01:42,  1.25it/s]208it [01:42,  1.23it/s]209it [01:43,  1.24it/s]210it [01:44,  1.24it/s]211it [01:45,  1.24it/s]212it [01:46,  1.23it/s]213it [01:47,  1.22it/s]214it [01:47,  1.20it/s]215it [01:48,  1.18it/s]216it [01:49,  1.14it/s]217it [01:50,  1.13it/s]218it [01:51,  1.12it/s]219it [01:52,  1.10it/s]220it [01:53,  1.06it/s]221it [01:54,  1.04it/s]222it [01:55,  1.03it/s]223it [01:56,  1.00it/s]224it [01:57,  1.02s/it]225it [01:58,  1.07s/it]226it [02:00,  1.17s/it]227it [02:01,  1.26s/it]228it [02:04,  1.64s/it]228it [02:04,  1.84it/s]
2023-06-02 11:06:25 | INFO | fairseq_cli.interactive | Total time: 156.957 seconds; translation time: 122.820
Generating Finish!
2 minutes and 41 seconds elapsed.
Generating ...
2023-06-02 11:06:29 | INFO | fairseq_cli.interactive | Namespace(all_gather_list_size=16384, bart_model_file_from_transformers=None, batch_size=32, batch_size_valid=32, beam=12, bf16=False, bpe=None, broadcast_buffers=False, bucket_cap_mb=25, buffer_size=10000, checkpoint_shard_count=1, checkpoint_suffix='', conll_file='', conll_suffix=['conll'], constraints=None, cpu=False, criterion='cross_entropy', curriculum=0, data='../preprocess/yaclc-minimal_dev_1739/bin', data_buffer_size=10, dataset_impl=None, ddp_backend='c10d', decoding_format=None, device_id=0, disable_validation=False, distributed_backend='nccl', distributed_init_method=None, distributed_no_spawn=False, distributed_num_procs=1, distributed_port=-1, distributed_rank=0, distributed_world_size=1, distributed_wrapper='DDP', diverse_beam_groups=-1, diverse_beam_strength=0.5, diversity_rate=-1.0, dpd_file='', dpd_suffix=['dpd'], empty_cache_freq=0, eval_bleu=False, eval_bleu_args=None, eval_bleu_detok='space', eval_bleu_detok_args=None, eval_bleu_print_samples=False, eval_bleu_remove_bpe=None, eval_tokenized_bleu=False, fast_stat_sync=False, find_unused_parameters=False, fix_batches_to_gpus=False, fixed_validation_seed=None, force_anneal=None, fp16=True, fp16_init_scale=128, fp16_no_flatten_grads=False, fp16_scale_tolerance=0.0, fp16_scale_window=None, gen_subset='test', input='-', iter_decode_eos_penalty=0.0, iter_decode_force_max_iter=False, iter_decode_max_iter=10, iter_decode_with_beam=1, iter_decode_with_external_reranker=False, left_pad_source='True', left_pad_target='False', lenpen=1, lm_path=None, lm_weight=0.0, load_alignments=False, localsgd_frequency=3, log_format='tqdm', log_interval=100, lr_scheduler='fixed', lr_shrink=0.1, match_source_len=False, max_len_a=0, max_len_b=200, max_source_positions=512, max_target_positions=1024, max_tokens=None, max_tokens_valid=None, memory_efficient_bf16=False, memory_efficient_fp16=False, min_len=1, min_loss_scale=0.0001, model_overrides='{}', model_parallel_size=1, nbest=1, no_beamable_mm=False, no_early_stop=False, no_progress_bar=False, no_repeat_ngram_size=0, no_seed_provided=False, nprocs_per_node=1, num_batch_buckets=0, num_shards=1, num_workers=12, optimizer=None, output_file='../model/finetune-i/yaclc-minimal_dev_1739/seed_6023/results/yaclc-minimal_test.out.nbest', path='../model/finetune-i/yaclc-minimal_dev_1739/seed_6023/checkpoint_best.pt', pipeline_balance=None, pipeline_checkpoint='never', pipeline_chunks=0, pipeline_decoder_balance=None, pipeline_decoder_devices=None, pipeline_devices=None, pipeline_encoder_balance=None, pipeline_encoder_devices=None, pipeline_model_parallel=False, prefix_size=0, print_alignment=False, print_step=False, probs_file='', probs_suffix=['probs'], profile=False, quantization_config_path=None, quiet=False, remove_bpe='@@ ', replace_unk=None, required_batch_size_multiple=8, required_seq_len_multiple=1, results_path=None, retain_dropout=False, retain_dropout_modules=None, retain_iter_history=False, sacrebleu=False, sampling=False, sampling_topk=-1, sampling_topp=-1.0, score_reference=False, scoring='bleu', seed=1, shard_id=0, skip_invalid_size_inputs_valid_test=False, slowmo_algorithm='LocalSGD', slowmo_momentum=None, source_lang='src', source_lang_with_nt='src_nt', src_nt_file=None, swm_suffix='swm', syntax_encoder='GCN', syntax_model_file=None, syntax_type=['dep'], target_lang='tgt', task='syntax-enhanced-translation', temperature=1.0, tensorboard_logdir=None, threshold_loss_scale=None, tokenizer=None, tpu=False, train_subset='train', truncate_source=False, unkpen=0, unnormalized=False, upsample_primary=1, use_dpd=False, use_syntax=False, user_dir='../src/src_syngec/syngec_model', valid_subset='valid', validate_after_updates=0, validate_interval=1, validate_interval_updates=0, warmup_updates=0, zero_sharding='none')
2023-06-02 11:06:29 | INFO | syngec_model.syntax_guided_gec_task | [src] dictionary: 21132 types
2023-06-02 11:06:29 | INFO | syngec_model.syntax_guided_gec_task | [tgt] dictionary: 21132 types
2023-06-02 11:06:29 | INFO | syngec_model.syntax_guided_gec_task | [syntax label0] dictionary: 51 types
2023-06-02 11:06:29 | INFO | fairseq_cli.interactive | loading model(s) from ../model/finetune-i/yaclc-minimal_dev_1739/seed_6023/checkpoint_best.pt
2023-06-02 11:06:45 | INFO | fairseq_cli.interactive | Sentence buffer size: 10000
2023-06-02 11:06:45 | INFO | fairseq_cli.interactive | NOTE: hypothesis and token scores are output in base 2
2023-06-02 11:06:45 | INFO | fairseq_cli.interactive | Type the input sentence and press return:
0it [00:00, ?it/s]2023-06-02 11:06:46 | INFO | fairseq.data.language_pair_dataset | no syntax information!
/public/home/swfeng/ymliu/ccl23-cltc/src/src_syngec/fairseq-0.10.2/fairseq/search.py:140: UserWarning: __floordiv__ is deprecated, and its behavior will change in a future version of pytorch. It currently rounds toward 0 (like the 'trunc' function NOT 'floor'). This results in incorrect rounding for negative values. To keep the current behavior, use torch.div(a, b, rounding_mode='trunc'), or for actual floor division, use torch.div(a, b, rounding_mode='floor').
  beams_buf = indices_buf // vocab_size
/public/home/swfeng/ymliu/ccl23-cltc/src/src_syngec/fairseq-0.10.2/fairseq/sequence_generator.py:651: UserWarning: __floordiv__ is deprecated, and its behavior will change in a future version of pytorch. It currently rounds toward 0 (like the 'trunc' function NOT 'floor'). This results in incorrect rounding for negative values. To keep the current behavior, use torch.div(a, b, rounding_mode='trunc'), or for actual floor division, use torch.div(a, b, rounding_mode='floor').
  unfin_idx = idx // beam_size
1it [00:03,  3.13s/it]2it [00:03,  1.48s/it]3it [00:03,  1.05it/s]4it [00:04,  1.41it/s]5it [00:04,  1.77it/s]6it [00:04,  2.06it/s]7it [00:05,  2.27it/s]8it [00:05,  2.49it/s]9it [00:05,  2.63it/s]10it [00:06,  2.74it/s]11it [00:06,  2.87it/s]12it [00:06,  2.89it/s]13it [00:07,  2.91it/s]14it [00:07,  2.97it/s]15it [00:07,  2.98it/s]16it [00:08,  3.04it/s]17it [00:08,  3.02it/s]18it [00:08,  3.01it/s]19it [00:09,  3.00it/s]20it [00:09,  3.01it/s]21it [00:09,  2.96it/s]22it [00:10,  2.93it/s]23it [00:10,  2.83it/s]24it [00:10,  2.79it/s]25it [00:11,  2.86it/s]26it [00:11,  2.87it/s]27it [00:11,  2.83it/s]28it [00:12,  2.87it/s]29it [00:12,  2.88it/s]30it [00:12,  2.92it/s]31it [00:13,  2.88it/s]32it [00:13,  2.74it/s]33it [00:14,  2.76it/s]34it [00:14,  2.54it/s]35it [00:14,  2.60it/s]36it [00:15,  2.59it/s]37it [00:15,  2.54it/s]38it [00:16,  2.59it/s]39it [00:16,  2.62it/s]40it [00:16,  2.60it/s]41it [00:17,  2.61it/s]42it [00:17,  2.63it/s]43it [00:17,  2.69it/s]44it [00:18,  2.65it/s]45it [00:18,  2.63it/s]46it [00:19,  2.65it/s]47it [00:19,  2.70it/s]48it [00:19,  2.71it/s]49it [00:20,  2.70it/s]50it [00:20,  2.70it/s]51it [00:20,  2.71it/s]52it [00:21,  2.64it/s]53it [00:21,  2.62it/s]54it [00:22,  2.61it/s]55it [00:22,  2.62it/s]56it [00:22,  2.57it/s]57it [00:23,  2.57it/s]58it [00:23,  2.60it/s]59it [00:23,  2.56it/s]60it [00:24,  2.57it/s]61it [00:24,  2.57it/s]62it [00:25,  2.57it/s]63it [00:25,  2.59it/s]64it [00:25,  2.55it/s]65it [00:26,  2.53it/s]66it [00:26,  2.55it/s]67it [00:27,  2.52it/s]68it [00:27,  2.51it/s]69it [00:27,  2.47it/s]70it [00:28,  2.47it/s]71it [00:28,  2.27it/s]72it [00:29,  2.33it/s]73it [00:29,  2.41it/s]74it [00:30,  2.40it/s]75it [00:30,  2.43it/s]76it [00:30,  2.42it/s]77it [00:31,  2.44it/s]78it [00:31,  2.44it/s]79it [00:32,  2.43it/s]80it [00:32,  2.44it/s]81it [00:32,  2.41it/s]82it [00:33,  2.41it/s]83it [00:33,  2.40it/s]84it [00:34,  2.39it/s]85it [00:34,  2.38it/s]86it [00:35,  2.38it/s]87it [00:35,  2.38it/s]88it [00:35,  2.41it/s]89it [00:36,  2.39it/s]90it [00:36,  2.39it/s]91it [00:37,  2.36it/s]92it [00:37,  2.36it/s]93it [00:37,  2.39it/s]94it [00:38,  2.38it/s]95it [00:38,  2.35it/s]96it [00:39,  2.32it/s]97it [00:39,  2.31it/s]98it [00:40,  2.25it/s]99it [00:40,  2.26it/s]100it [00:41,  2.26it/s]101it [00:41,  2.27it/s]102it [00:41,  2.28it/s]103it [00:42,  2.26it/s]104it [00:42,  2.25it/s]105it [00:43,  2.27it/s]106it [00:43,  2.24it/s]107it [00:44,  2.02it/s]108it [00:44,  2.04it/s]109it [00:45,  2.08it/s]110it [00:45,  2.09it/s]111it [00:46,  2.01it/s]112it [00:46,  2.04it/s]113it [00:47,  2.09it/s]114it [00:47,  2.10it/s]115it [00:48,  2.12it/s]116it [00:48,  2.12it/s]117it [00:49,  2.14it/s]118it [00:49,  2.13it/s]119it [00:50,  2.13it/s]120it [00:50,  2.15it/s]121it [00:50,  2.13it/s]122it [00:51,  2.09it/s]123it [00:51,  2.10it/s]124it [00:52,  2.10it/s]125it [00:52,  2.12it/s]126it [00:53,  2.11it/s]127it [00:53,  2.11it/s]128it [00:54,  2.11it/s]129it [00:54,  2.09it/s]130it [00:55,  2.09it/s]131it [00:55,  2.09it/s]132it [00:56,  2.07it/s]133it [00:56,  2.03it/s]134it [00:57,  2.01it/s]135it [00:57,  2.02it/s]136it [00:58,  2.03it/s]137it [00:58,  2.04it/s]138it [00:59,  1.95it/s]139it [00:59,  1.94it/s]140it [01:00,  1.90it/s]141it [01:00,  1.92it/s]142it [01:01,  1.90it/s]143it [01:01,  1.90it/s]144it [01:02,  1.88it/s]145it [01:03,  1.89it/s]146it [01:03,  1.85it/s]147it [01:04,  1.67it/s]148it [01:04,  1.72it/s]149it [01:05,  1.77it/s]150it [01:05,  1.80it/s]151it [01:06,  1.79it/s]152it [01:07,  1.82it/s]153it [01:07,  1.86it/s]154it [01:08,  1.87it/s]155it [01:08,  1.87it/s]156it [01:09,  1.85it/s]157it [01:09,  1.81it/s]158it [01:10,  1.78it/s]159it [01:10,  1.74it/s]160it [01:11,  1.76it/s]161it [01:12,  1.77it/s]162it [01:12,  1.78it/s]163it [01:13,  1.76it/s]164it [01:13,  1.75it/s]165it [01:14,  1.75it/s]166it [01:14,  1.72it/s]167it [01:15,  1.73it/s]168it [01:16,  1.74it/s]169it [01:16,  1.71it/s]170it [01:17,  1.71it/s]171it [01:17,  1.69it/s]172it [01:18,  1.70it/s]173it [01:18,  1.71it/s]174it [01:19,  1.73it/s]175it [01:20,  1.72it/s]176it [01:20,  1.69it/s]177it [01:21,  1.68it/s]178it [01:21,  1.67it/s]179it [01:22,  1.65it/s]180it [01:23,  1.64it/s]181it [01:23,  1.63it/s]182it [01:24,  1.61it/s]183it [01:25,  1.59it/s]184it [01:25,  1.59it/s]185it [01:26,  1.58it/s]186it [01:27,  1.57it/s]187it [01:27,  1.56it/s]188it [01:28,  1.55it/s]189it [01:29,  1.54it/s]190it [01:29,  1.51it/s]191it [01:30,  1.49it/s]192it [01:31,  1.47it/s]193it [01:31,  1.46it/s]194it [01:32,  1.44it/s]195it [01:33,  1.44it/s]196it [01:34,  1.31it/s]197it [01:34,  1.33it/s]198it [01:35,  1.36it/s]199it [01:36,  1.37it/s]200it [01:37,  1.35it/s]201it [01:37,  1.35it/s]202it [01:38,  1.35it/s]203it [01:39,  1.34it/s]204it [01:40,  1.32it/s]205it [01:40,  1.26it/s]206it [01:41,  1.27it/s]207it [01:42,  1.26it/s]208it [01:43,  1.25it/s]209it [01:44,  1.24it/s]210it [01:44,  1.23it/s]211it [01:45,  1.22it/s]212it [01:46,  1.21it/s]213it [01:47,  1.21it/s]214it [01:48,  1.20it/s]215it [01:49,  1.17it/s]216it [01:50,  1.15it/s]217it [01:51,  1.10it/s]218it [01:52,  1.09it/s]219it [01:53,  1.05it/s]220it [01:54,  1.02it/s]221it [01:55,  1.01it/s]222it [01:56,  1.01s/it]223it [01:57,  1.03s/it]224it [01:58,  1.05s/it]225it [01:59,  1.08s/it]226it [02:00,  1.14s/it]227it [02:02,  1.23s/it]228it [02:04,  1.60s/it]228it [02:04,  1.83it/s]
2023-06-02 11:09:06 | INFO | fairseq_cli.interactive | Total time: 156.420 seconds; translation time: 122.435
Generating Finish!
2 minutes and 40 seconds elapsed.
Generating ...
2023-06-02 11:09:10 | INFO | fairseq_cli.interactive | Namespace(all_gather_list_size=16384, bart_model_file_from_transformers=None, batch_size=32, batch_size_valid=32, beam=12, bf16=False, bpe=None, broadcast_buffers=False, bucket_cap_mb=25, buffer_size=10000, checkpoint_shard_count=1, checkpoint_suffix='', conll_file='', conll_suffix=['conll'], constraints=None, cpu=False, criterion='cross_entropy', curriculum=0, data='../preprocess/yaclc-minimal_dev_1739/bin', data_buffer_size=10, dataset_impl=None, ddp_backend='c10d', decoding_format=None, device_id=0, disable_validation=False, distributed_backend='nccl', distributed_init_method=None, distributed_no_spawn=False, distributed_num_procs=1, distributed_port=-1, distributed_rank=0, distributed_world_size=1, distributed_wrapper='DDP', diverse_beam_groups=-1, diverse_beam_strength=0.5, diversity_rate=-1.0, dpd_file='', dpd_suffix=['dpd'], empty_cache_freq=0, eval_bleu=False, eval_bleu_args=None, eval_bleu_detok='space', eval_bleu_detok_args=None, eval_bleu_print_samples=False, eval_bleu_remove_bpe=None, eval_tokenized_bleu=False, fast_stat_sync=False, find_unused_parameters=False, fix_batches_to_gpus=False, fixed_validation_seed=None, force_anneal=None, fp16=True, fp16_init_scale=128, fp16_no_flatten_grads=False, fp16_scale_tolerance=0.0, fp16_scale_window=None, gen_subset='test', input='-', iter_decode_eos_penalty=0.0, iter_decode_force_max_iter=False, iter_decode_max_iter=10, iter_decode_with_beam=1, iter_decode_with_external_reranker=False, left_pad_source='True', left_pad_target='False', lenpen=1, lm_path=None, lm_weight=0.0, load_alignments=False, localsgd_frequency=3, log_format='tqdm', log_interval=100, lr_scheduler='fixed', lr_shrink=0.1, match_source_len=False, max_len_a=0, max_len_b=200, max_source_positions=512, max_target_positions=1024, max_tokens=None, max_tokens_valid=None, memory_efficient_bf16=False, memory_efficient_fp16=False, min_len=1, min_loss_scale=0.0001, model_overrides='{}', model_parallel_size=1, nbest=1, no_beamable_mm=False, no_early_stop=False, no_progress_bar=False, no_repeat_ngram_size=0, no_seed_provided=False, nprocs_per_node=1, num_batch_buckets=0, num_shards=1, num_workers=12, optimizer=None, output_file='../model/finetune-i/yaclc-minimal_dev_1739/seed_7023/results/yaclc-minimal_test.out.nbest', path='../model/finetune-i/yaclc-minimal_dev_1739/seed_7023/checkpoint_best.pt', pipeline_balance=None, pipeline_checkpoint='never', pipeline_chunks=0, pipeline_decoder_balance=None, pipeline_decoder_devices=None, pipeline_devices=None, pipeline_encoder_balance=None, pipeline_encoder_devices=None, pipeline_model_parallel=False, prefix_size=0, print_alignment=False, print_step=False, probs_file='', probs_suffix=['probs'], profile=False, quantization_config_path=None, quiet=False, remove_bpe='@@ ', replace_unk=None, required_batch_size_multiple=8, required_seq_len_multiple=1, results_path=None, retain_dropout=False, retain_dropout_modules=None, retain_iter_history=False, sacrebleu=False, sampling=False, sampling_topk=-1, sampling_topp=-1.0, score_reference=False, scoring='bleu', seed=1, shard_id=0, skip_invalid_size_inputs_valid_test=False, slowmo_algorithm='LocalSGD', slowmo_momentum=None, source_lang='src', source_lang_with_nt='src_nt', src_nt_file=None, swm_suffix='swm', syntax_encoder='GCN', syntax_model_file=None, syntax_type=['dep'], target_lang='tgt', task='syntax-enhanced-translation', temperature=1.0, tensorboard_logdir=None, threshold_loss_scale=None, tokenizer=None, tpu=False, train_subset='train', truncate_source=False, unkpen=0, unnormalized=False, upsample_primary=1, use_dpd=False, use_syntax=False, user_dir='../src/src_syngec/syngec_model', valid_subset='valid', validate_after_updates=0, validate_interval=1, validate_interval_updates=0, warmup_updates=0, zero_sharding='none')
2023-06-02 11:09:10 | INFO | syngec_model.syntax_guided_gec_task | [src] dictionary: 21132 types
2023-06-02 11:09:10 | INFO | syngec_model.syntax_guided_gec_task | [tgt] dictionary: 21132 types
2023-06-02 11:09:10 | INFO | syngec_model.syntax_guided_gec_task | [syntax label0] dictionary: 51 types
2023-06-02 11:09:10 | INFO | fairseq_cli.interactive | loading model(s) from ../model/finetune-i/yaclc-minimal_dev_1739/seed_7023/checkpoint_best.pt
2023-06-02 11:09:26 | INFO | fairseq_cli.interactive | Sentence buffer size: 10000
2023-06-02 11:09:26 | INFO | fairseq_cli.interactive | NOTE: hypothesis and token scores are output in base 2
2023-06-02 11:09:26 | INFO | fairseq_cli.interactive | Type the input sentence and press return:
0it [00:00, ?it/s]2023-06-02 11:09:26 | INFO | fairseq.data.language_pair_dataset | no syntax information!
/public/home/swfeng/ymliu/ccl23-cltc/src/src_syngec/fairseq-0.10.2/fairseq/search.py:140: UserWarning: __floordiv__ is deprecated, and its behavior will change in a future version of pytorch. It currently rounds toward 0 (like the 'trunc' function NOT 'floor'). This results in incorrect rounding for negative values. To keep the current behavior, use torch.div(a, b, rounding_mode='trunc'), or for actual floor division, use torch.div(a, b, rounding_mode='floor').
  beams_buf = indices_buf // vocab_size
/public/home/swfeng/ymliu/ccl23-cltc/src/src_syngec/fairseq-0.10.2/fairseq/sequence_generator.py:651: UserWarning: __floordiv__ is deprecated, and its behavior will change in a future version of pytorch. It currently rounds toward 0 (like the 'trunc' function NOT 'floor'). This results in incorrect rounding for negative values. To keep the current behavior, use torch.div(a, b, rounding_mode='trunc'), or for actual floor division, use torch.div(a, b, rounding_mode='floor').
  unfin_idx = idx // beam_size
1it [00:02,  2.31s/it]2it [00:02,  1.15s/it]3it [00:02,  1.28it/s]4it [00:03,  1.67it/s]5it [00:03,  2.00it/s]6it [00:03,  2.21it/s]7it [00:04,  2.42it/s]8it [00:04,  2.60it/s]9it [00:04,  2.72it/s]10it [00:05,  2.84it/s]11it [00:05,  2.92it/s]12it [00:05,  2.85it/s]13it [00:06,  2.93it/s]14it [00:06,  2.98it/s]15it [00:06,  2.97it/s]16it [00:07,  2.97it/s]17it [00:07,  2.97it/s]18it [00:07,  2.99it/s]19it [00:08,  2.93it/s]20it [00:08,  2.83it/s]21it [00:09,  2.80it/s]22it [00:09,  2.85it/s]23it [00:09,  2.78it/s]24it [00:10,  2.75it/s]25it [00:10,  2.76it/s]26it [00:10,  2.82it/s]27it [00:11,  2.80it/s]28it [00:11,  2.84it/s]29it [00:11,  2.79it/s]30it [00:12,  2.84it/s]31it [00:12,  2.83it/s]32it [00:13,  2.78it/s]33it [00:13,  2.77it/s]34it [00:13,  2.59it/s]35it [00:14,  2.66it/s]36it [00:14,  2.66it/s]37it [00:14,  2.62it/s]38it [00:15,  2.59it/s]39it [00:15,  2.62it/s]40it [00:16,  2.64it/s]41it [00:16,  2.65it/s]42it [00:16,  2.71it/s]43it [00:17,  2.74it/s]44it [00:17,  2.69it/s]45it [00:17,  2.64it/s]46it [00:18,  2.69it/s]47it [00:18,  2.66it/s]48it [00:19,  2.70it/s]49it [00:19,  2.69it/s]50it [00:19,  2.69it/s]51it [00:20,  2.65it/s]52it [00:20,  2.59it/s]53it [00:20,  2.55it/s]54it [00:21,  2.59it/s]55it [00:21,  2.58it/s]56it [00:22,  2.57it/s]57it [00:22,  2.55it/s]58it [00:22,  2.59it/s]59it [00:23,  2.59it/s]60it [00:23,  2.58it/s]61it [00:24,  2.53it/s]62it [00:24,  2.55it/s]63it [00:24,  2.56it/s]64it [00:25,  2.53it/s]65it [00:25,  2.52it/s]66it [00:26,  2.53it/s]67it [00:26,  2.50it/s]68it [00:26,  2.49it/s]69it [00:27,  2.48it/s]70it [00:27,  2.45it/s]71it [00:28,  2.25it/s]72it [00:28,  2.30it/s]73it [00:29,  2.34it/s]74it [00:29,  2.37it/s]75it [00:29,  2.40it/s]76it [00:30,  2.39it/s]77it [00:30,  2.40it/s]78it [00:31,  2.41it/s]79it [00:31,  2.37it/s]80it [00:31,  2.39it/s]81it [00:32,  2.38it/s]82it [00:32,  2.37it/s]83it [00:33,  2.37it/s]84it [00:33,  2.40it/s]85it [00:34,  2.38it/s]86it [00:34,  2.36it/s]87it [00:34,  2.36it/s]88it [00:35,  2.39it/s]89it [00:35,  2.41it/s]90it [00:36,  2.36it/s]91it [00:36,  2.34it/s]92it [00:37,  2.34it/s]93it [00:37,  2.33it/s]94it [00:37,  2.30it/s]95it [00:38,  2.29it/s]96it [00:38,  2.28it/s]97it [00:39,  2.27it/s]98it [00:39,  2.21it/s]99it [00:40,  2.23it/s]100it [00:40,  2.22it/s]101it [00:41,  2.24it/s]102it [00:41,  2.25it/s]103it [00:41,  2.25it/s]104it [00:42,  2.25it/s]105it [00:42,  2.25it/s]106it [00:43,  2.20it/s]107it [00:43,  1.97it/s]108it [00:44,  1.98it/s]109it [00:44,  2.01it/s]110it [00:45,  2.04it/s]111it [00:45,  2.05it/s]112it [00:46,  2.06it/s]113it [00:46,  2.11it/s]114it [00:47,  2.10it/s]115it [00:47,  2.12it/s]116it [00:48,  2.12it/s]117it [00:48,  2.13it/s]118it [00:49,  2.12it/s]119it [00:49,  2.11it/s]120it [00:50,  2.08it/s]121it [00:50,  2.08it/s]122it [00:51,  2.08it/s]123it [00:51,  2.11it/s]124it [00:52,  2.11it/s]125it [00:52,  2.13it/s]126it [00:52,  2.12it/s]127it [00:53,  2.11it/s]128it [00:53,  2.10it/s]129it [00:54,  2.08it/s]130it [00:54,  2.06it/s]131it [00:55,  2.04it/s]132it [00:55,  2.04it/s]133it [00:56,  2.01it/s]134it [00:56,  2.01it/s]135it [00:57,  1.98it/s]136it [00:57,  1.99it/s]137it [00:58,  1.99it/s]138it [00:59,  1.93it/s]139it [00:59,  1.92it/s]140it [01:00,  1.87it/s]141it [01:00,  1.87it/s]142it [01:01,  1.88it/s]143it [01:01,  1.89it/s]144it [01:02,  1.82it/s]145it [01:02,  1.83it/s]146it [01:03,  1.63it/s]147it [01:04,  1.68it/s]148it [01:04,  1.74it/s]149it [01:05,  1.76it/s]150it [01:05,  1.79it/s]151it [01:06,  1.80it/s]152it [01:06,  1.83it/s]153it [01:07,  1.85it/s]154it [01:07,  1.86it/s]155it [01:08,  1.84it/s]156it [01:09,  1.82it/s]157it [01:09,  1.82it/s]158it [01:10,  1.78it/s]159it [01:10,  1.76it/s]160it [01:11,  1.78it/s]161it [01:11,  1.78it/s]162it [01:12,  1.77it/s]163it [01:13,  1.76it/s]164it [01:13,  1.76it/s]165it [01:14,  1.71it/s]166it [01:14,  1.71it/s]167it [01:15,  1.69it/s]168it [01:15,  1.72it/s]169it [01:16,  1.71it/s]170it [01:17,  1.69it/s]171it [01:17,  1.69it/s]172it [01:18,  1.68it/s]173it [01:18,  1.70it/s]174it [01:19,  1.68it/s]175it [01:20,  1.66it/s]176it [01:20,  1.65it/s]177it [01:21,  1.63it/s]178it [01:21,  1.65it/s]179it [01:22,  1.64it/s]180it [01:23,  1.64it/s]181it [01:23,  1.64it/s]182it [01:24,  1.62it/s]183it [01:25,  1.59it/s]184it [01:25,  1.59it/s]185it [01:26,  1.59it/s]186it [01:27,  1.49it/s]187it [01:27,  1.47it/s]188it [01:28,  1.49it/s]189it [01:29,  1.49it/s]190it [01:29,  1.49it/s]191it [01:30,  1.48it/s]192it [01:31,  1.47it/s]193it [01:31,  1.47it/s]194it [01:32,  1.45it/s]195it [01:33,  1.45it/s]196it [01:34,  1.34it/s]197it [01:34,  1.37it/s]198it [01:35,  1.39it/s]199it [01:36,  1.40it/s]200it [01:36,  1.39it/s]201it [01:37,  1.37it/s]202it [01:38,  1.35it/s]203it [01:39,  1.35it/s]204it [01:40,  1.32it/s]205it [01:40,  1.28it/s]206it [01:41,  1.30it/s]207it [01:42,  1.28it/s]208it [01:43,  1.26it/s]209it [01:44,  1.25it/s]210it [01:44,  1.23it/s]211it [01:45,  1.22it/s]212it [01:46,  1.22it/s]213it [01:47,  1.20it/s]214it [01:48,  1.18it/s]215it [01:49,  1.16it/s]216it [01:50,  1.12it/s]217it [01:51,  1.11it/s]218it [01:51,  1.10it/s]219it [01:52,  1.08it/s]220it [01:53,  1.05it/s]221it [01:55,  1.03it/s]222it [01:56,  1.00it/s]223it [01:57,  1.02s/it]224it [01:58,  1.05s/it]225it [01:59,  1.08s/it]226it [02:00,  1.15s/it]227it [02:02,  1.23s/it]228it [02:04,  1.61s/it]228it [02:04,  1.83it/s]
2023-06-02 11:11:47 | INFO | fairseq_cli.interactive | Total time: 157.086 seconds; translation time: 123.172
Generating Finish!
2 minutes and 41 seconds elapsed.
Generating ...
2023-06-02 11:11:51 | INFO | fairseq_cli.interactive | Namespace(all_gather_list_size=16384, bart_model_file_from_transformers=None, batch_size=32, batch_size_valid=32, beam=12, bf16=False, bpe=None, broadcast_buffers=False, bucket_cap_mb=25, buffer_size=10000, checkpoint_shard_count=1, checkpoint_suffix='', conll_file='', conll_suffix=['conll'], constraints=None, cpu=False, criterion='cross_entropy', curriculum=0, data='../preprocess/yaclc-minimal_dev_1739/bin', data_buffer_size=10, dataset_impl=None, ddp_backend='c10d', decoding_format=None, device_id=0, disable_validation=False, distributed_backend='nccl', distributed_init_method=None, distributed_no_spawn=False, distributed_num_procs=1, distributed_port=-1, distributed_rank=0, distributed_world_size=1, distributed_wrapper='DDP', diverse_beam_groups=-1, diverse_beam_strength=0.5, diversity_rate=-1.0, dpd_file='', dpd_suffix=['dpd'], empty_cache_freq=0, eval_bleu=False, eval_bleu_args=None, eval_bleu_detok='space', eval_bleu_detok_args=None, eval_bleu_print_samples=False, eval_bleu_remove_bpe=None, eval_tokenized_bleu=False, fast_stat_sync=False, find_unused_parameters=False, fix_batches_to_gpus=False, fixed_validation_seed=None, force_anneal=None, fp16=True, fp16_init_scale=128, fp16_no_flatten_grads=False, fp16_scale_tolerance=0.0, fp16_scale_window=None, gen_subset='test', input='-', iter_decode_eos_penalty=0.0, iter_decode_force_max_iter=False, iter_decode_max_iter=10, iter_decode_with_beam=1, iter_decode_with_external_reranker=False, left_pad_source='True', left_pad_target='False', lenpen=1, lm_path=None, lm_weight=0.0, load_alignments=False, localsgd_frequency=3, log_format='tqdm', log_interval=100, lr_scheduler='fixed', lr_shrink=0.1, match_source_len=False, max_len_a=0, max_len_b=200, max_source_positions=512, max_target_positions=1024, max_tokens=None, max_tokens_valid=None, memory_efficient_bf16=False, memory_efficient_fp16=False, min_len=1, min_loss_scale=0.0001, model_overrides='{}', model_parallel_size=1, nbest=1, no_beamable_mm=False, no_early_stop=False, no_progress_bar=False, no_repeat_ngram_size=0, no_seed_provided=False, nprocs_per_node=1, num_batch_buckets=0, num_shards=1, num_workers=12, optimizer=None, output_file='../model/finetune-i/yaclc-minimal_dev_1739/seed_5023/results/yaclc-fluency_test.out.nbest', path='../model/finetune-i/yaclc-minimal_dev_1739/seed_5023/checkpoint_best.pt', pipeline_balance=None, pipeline_checkpoint='never', pipeline_chunks=0, pipeline_decoder_balance=None, pipeline_decoder_devices=None, pipeline_devices=None, pipeline_encoder_balance=None, pipeline_encoder_devices=None, pipeline_model_parallel=False, prefix_size=0, print_alignment=False, print_step=False, probs_file='', probs_suffix=['probs'], profile=False, quantization_config_path=None, quiet=False, remove_bpe='@@ ', replace_unk=None, required_batch_size_multiple=8, required_seq_len_multiple=1, results_path=None, retain_dropout=False, retain_dropout_modules=None, retain_iter_history=False, sacrebleu=False, sampling=False, sampling_topk=-1, sampling_topp=-1.0, score_reference=False, scoring='bleu', seed=1, shard_id=0, skip_invalid_size_inputs_valid_test=False, slowmo_algorithm='LocalSGD', slowmo_momentum=None, source_lang='src', source_lang_with_nt='src_nt', src_nt_file=None, swm_suffix='swm', syntax_encoder='GCN', syntax_model_file=None, syntax_type=['dep'], target_lang='tgt', task='syntax-enhanced-translation', temperature=1.0, tensorboard_logdir=None, threshold_loss_scale=None, tokenizer=None, tpu=False, train_subset='train', truncate_source=False, unkpen=0, unnormalized=False, upsample_primary=1, use_dpd=False, use_syntax=False, user_dir='../src/src_syngec/syngec_model', valid_subset='valid', validate_after_updates=0, validate_interval=1, validate_interval_updates=0, warmup_updates=0, zero_sharding='none')
2023-06-02 11:11:51 | INFO | syngec_model.syntax_guided_gec_task | [src] dictionary: 21132 types
2023-06-02 11:11:51 | INFO | syngec_model.syntax_guided_gec_task | [tgt] dictionary: 21132 types
2023-06-02 11:11:51 | INFO | syngec_model.syntax_guided_gec_task | [syntax label0] dictionary: 51 types
2023-06-02 11:11:51 | INFO | fairseq_cli.interactive | loading model(s) from ../model/finetune-i/yaclc-minimal_dev_1739/seed_5023/checkpoint_best.pt
2023-06-02 11:12:07 | INFO | fairseq_cli.interactive | Sentence buffer size: 10000
2023-06-02 11:12:07 | INFO | fairseq_cli.interactive | NOTE: hypothesis and token scores are output in base 2
2023-06-02 11:12:07 | INFO | fairseq_cli.interactive | Type the input sentence and press return:
0it [00:00, ?it/s]2023-06-02 11:12:07 | INFO | fairseq.data.language_pair_dataset | no syntax information!
/public/home/swfeng/ymliu/ccl23-cltc/src/src_syngec/fairseq-0.10.2/fairseq/search.py:140: UserWarning: __floordiv__ is deprecated, and its behavior will change in a future version of pytorch. It currently rounds toward 0 (like the 'trunc' function NOT 'floor'). This results in incorrect rounding for negative values. To keep the current behavior, use torch.div(a, b, rounding_mode='trunc'), or for actual floor division, use torch.div(a, b, rounding_mode='floor').
  beams_buf = indices_buf // vocab_size
/public/home/swfeng/ymliu/ccl23-cltc/src/src_syngec/fairseq-0.10.2/fairseq/sequence_generator.py:651: UserWarning: __floordiv__ is deprecated, and its behavior will change in a future version of pytorch. It currently rounds toward 0 (like the 'trunc' function NOT 'floor'). This results in incorrect rounding for negative values. To keep the current behavior, use torch.div(a, b, rounding_mode='trunc'), or for actual floor division, use torch.div(a, b, rounding_mode='floor').
  unfin_idx = idx // beam_size
1it [00:02,  2.01s/it]2it [00:02,  1.02s/it]3it [00:02,  1.44it/s]4it [00:02,  1.82it/s]5it [00:03,  2.16it/s]6it [00:03,  2.39it/s]7it [00:03,  2.58it/s]8it [00:04,  2.72it/s]9it [00:04,  2.82it/s]10it [00:04,  2.89it/s]11it [00:05,  2.95it/s]12it [00:05,  3.04it/s]13it [00:05,  3.06it/s]14it [00:06,  3.06it/s]15it [00:06,  3.01it/s]16it [00:06,  3.02it/s]17it [00:07,  2.97it/s]18it [00:07,  2.94it/s]19it [00:07,  2.92it/s]20it [00:08,  2.91it/s]21it [00:08,  2.91it/s]22it [00:08,  2.95it/s]23it [00:09,  2.93it/s]24it [00:09,  2.91it/s]25it [00:09,  2.92it/s]26it [00:10,  2.87it/s]27it [00:10,  2.79it/s]28it [00:11,  2.81it/s]29it [00:11,  2.75it/s]30it [00:11,  2.80it/s]31it [00:12,  2.74it/s]32it [00:12,  2.77it/s]33it [00:12,  2.76it/s]34it [00:13,  2.72it/s]35it [00:13,  2.56it/s]36it [00:14,  2.57it/s]37it [00:14,  2.61it/s]38it [00:14,  2.65it/s]39it [00:15,  2.64it/s]40it [00:15,  2.67it/s]41it [00:15,  2.68it/s]42it [00:16,  2.62it/s]43it [00:16,  2.65it/s]44it [00:17,  2.62it/s]45it [00:17,  2.61it/s]46it [00:17,  2.59it/s]47it [00:18,  2.57it/s]48it [00:18,  2.58it/s]49it [00:19,  2.59it/s]50it [00:19,  2.60it/s]51it [00:19,  2.59it/s]52it [00:20,  2.63it/s]53it [00:20,  2.59it/s]54it [00:20,  2.56it/s]55it [00:21,  2.54it/s]56it [00:21,  2.54it/s]57it [00:22,  2.53it/s]58it [00:22,  2.46it/s]59it [00:23,  2.38it/s]60it [00:23,  2.42it/s]61it [00:23,  2.41it/s]62it [00:24,  2.44it/s]63it [00:24,  2.49it/s]64it [00:25,  2.49it/s]65it [00:25,  2.49it/s]66it [00:25,  2.46it/s]67it [00:26,  2.40it/s]68it [00:26,  2.40it/s]69it [00:27,  2.39it/s]70it [00:27,  2.39it/s]71it [00:27,  2.42it/s]72it [00:28,  2.23it/s]73it [00:28,  2.28it/s]74it [00:29,  2.26it/s]75it [00:29,  2.25it/s]76it [00:30,  2.26it/s]77it [00:30,  2.25it/s]78it [00:31,  2.23it/s]79it [00:31,  2.20it/s]80it [00:32,  2.23it/s]81it [00:32,  2.22it/s]82it [00:32,  2.20it/s]83it [00:33,  2.23it/s]84it [00:33,  2.25it/s]85it [00:34,  2.26it/s]86it [00:34,  2.22it/s]87it [00:35,  2.19it/s]88it [00:35,  2.16it/s]89it [00:36,  2.20it/s]90it [00:36,  2.20it/s]91it [00:37,  2.18it/s]92it [00:37,  2.16it/s]93it [00:38,  2.15it/s]94it [00:38,  2.15it/s]95it [00:38,  2.14it/s]96it [00:39,  2.13it/s]97it [00:39,  2.16it/s]98it [00:40,  2.17it/s]99it [00:40,  2.13it/s]100it [00:41,  2.10it/s]101it [00:41,  2.08it/s]102it [00:42,  2.04it/s]103it [00:42,  2.05it/s]104it [00:43,  2.05it/s]105it [00:43,  2.04it/s]106it [00:44,  2.01it/s]107it [00:44,  1.95it/s]108it [00:45,  1.79it/s]109it [00:46,  1.82it/s]110it [00:46,  1.84it/s]111it [00:47,  1.84it/s]112it [00:47,  1.82it/s]113it [00:48,  1.85it/s]114it [00:48,  1.87it/s]115it [00:49,  1.88it/s]116it [00:49,  1.87it/s]117it [00:50,  1.85it/s]118it [00:50,  1.85it/s]119it [00:51,  1.86it/s]120it [00:51,  1.84it/s]121it [00:52,  1.82it/s]122it [00:53,  1.84it/s]123it [00:53,  1.82it/s]124it [00:54,  1.81it/s]125it [00:54,  1.82it/s]126it [00:55,  1.80it/s]127it [00:55,  1.79it/s]128it [00:56,  1.75it/s]129it [00:57,  1.76it/s]130it [00:57,  1.76it/s]131it [00:58,  1.73it/s]132it [00:58,  1.71it/s]133it [00:59,  1.69it/s]134it [01:00,  1.69it/s]135it [01:00,  1.68it/s]136it [01:01,  1.67it/s]137it [01:01,  1.67it/s]138it [01:02,  1.67it/s]139it [01:03,  1.63it/s]140it [01:03,  1.61it/s]141it [01:04,  1.61it/s]142it [01:05,  1.56it/s]143it [01:05,  1.56it/s]144it [01:06,  1.55it/s]145it [01:06,  1.54it/s]146it [01:07,  1.53it/s]147it [01:08,  1.41it/s]148it [01:09,  1.44it/s]149it [01:09,  1.44it/s]150it [01:10,  1.45it/s]151it [01:11,  1.44it/s]152it [01:11,  1.43it/s]153it [01:12,  1.40it/s]154it [01:13,  1.39it/s]155it [01:14,  1.36it/s]156it [01:14,  1.32it/s]157it [01:15,  1.31it/s]158it [01:16,  1.30it/s]159it [01:17,  1.30it/s]160it [01:18,  1.27it/s]161it [01:18,  1.26it/s]162it [01:19,  1.24it/s]163it [01:20,  1.22it/s]164it [01:21,  1.19it/s]165it [01:22,  1.17it/s]166it [01:23,  1.11it/s]167it [01:24,  1.09it/s]168it [01:25,  1.06it/s]169it [01:26,  1.03it/s]170it [01:27,  1.01s/it]171it [01:28,  1.10s/it]172it [01:30,  1.25s/it]173it [01:32,  1.40s/it]173it [01:32,  1.88it/s]
2023-06-02 11:13:51 | INFO | fairseq_cli.interactive | Total time: 119.567 seconds; translation time: 91.165
Generating Finish!
2 minutes and 3 seconds elapsed.
Generating ...
2023-06-02 11:13:54 | INFO | fairseq_cli.interactive | Namespace(all_gather_list_size=16384, bart_model_file_from_transformers=None, batch_size=32, batch_size_valid=32, beam=12, bf16=False, bpe=None, broadcast_buffers=False, bucket_cap_mb=25, buffer_size=10000, checkpoint_shard_count=1, checkpoint_suffix='', conll_file='', conll_suffix=['conll'], constraints=None, cpu=False, criterion='cross_entropy', curriculum=0, data='../preprocess/yaclc-minimal_dev_1739/bin', data_buffer_size=10, dataset_impl=None, ddp_backend='c10d', decoding_format=None, device_id=0, disable_validation=False, distributed_backend='nccl', distributed_init_method=None, distributed_no_spawn=False, distributed_num_procs=1, distributed_port=-1, distributed_rank=0, distributed_world_size=1, distributed_wrapper='DDP', diverse_beam_groups=-1, diverse_beam_strength=0.5, diversity_rate=-1.0, dpd_file='', dpd_suffix=['dpd'], empty_cache_freq=0, eval_bleu=False, eval_bleu_args=None, eval_bleu_detok='space', eval_bleu_detok_args=None, eval_bleu_print_samples=False, eval_bleu_remove_bpe=None, eval_tokenized_bleu=False, fast_stat_sync=False, find_unused_parameters=False, fix_batches_to_gpus=False, fixed_validation_seed=None, force_anneal=None, fp16=True, fp16_init_scale=128, fp16_no_flatten_grads=False, fp16_scale_tolerance=0.0, fp16_scale_window=None, gen_subset='test', input='-', iter_decode_eos_penalty=0.0, iter_decode_force_max_iter=False, iter_decode_max_iter=10, iter_decode_with_beam=1, iter_decode_with_external_reranker=False, left_pad_source='True', left_pad_target='False', lenpen=1, lm_path=None, lm_weight=0.0, load_alignments=False, localsgd_frequency=3, log_format='tqdm', log_interval=100, lr_scheduler='fixed', lr_shrink=0.1, match_source_len=False, max_len_a=0, max_len_b=200, max_source_positions=512, max_target_positions=1024, max_tokens=None, max_tokens_valid=None, memory_efficient_bf16=False, memory_efficient_fp16=False, min_len=1, min_loss_scale=0.0001, model_overrides='{}', model_parallel_size=1, nbest=1, no_beamable_mm=False, no_early_stop=False, no_progress_bar=False, no_repeat_ngram_size=0, no_seed_provided=False, nprocs_per_node=1, num_batch_buckets=0, num_shards=1, num_workers=12, optimizer=None, output_file='../model/finetune-i/yaclc-minimal_dev_1739/seed_6023/results/yaclc-fluency_test.out.nbest', path='../model/finetune-i/yaclc-minimal_dev_1739/seed_6023/checkpoint_best.pt', pipeline_balance=None, pipeline_checkpoint='never', pipeline_chunks=0, pipeline_decoder_balance=None, pipeline_decoder_devices=None, pipeline_devices=None, pipeline_encoder_balance=None, pipeline_encoder_devices=None, pipeline_model_parallel=False, prefix_size=0, print_alignment=False, print_step=False, probs_file='', probs_suffix=['probs'], profile=False, quantization_config_path=None, quiet=False, remove_bpe='@@ ', replace_unk=None, required_batch_size_multiple=8, required_seq_len_multiple=1, results_path=None, retain_dropout=False, retain_dropout_modules=None, retain_iter_history=False, sacrebleu=False, sampling=False, sampling_topk=-1, sampling_topp=-1.0, score_reference=False, scoring='bleu', seed=1, shard_id=0, skip_invalid_size_inputs_valid_test=False, slowmo_algorithm='LocalSGD', slowmo_momentum=None, source_lang='src', source_lang_with_nt='src_nt', src_nt_file=None, swm_suffix='swm', syntax_encoder='GCN', syntax_model_file=None, syntax_type=['dep'], target_lang='tgt', task='syntax-enhanced-translation', temperature=1.0, tensorboard_logdir=None, threshold_loss_scale=None, tokenizer=None, tpu=False, train_subset='train', truncate_source=False, unkpen=0, unnormalized=False, upsample_primary=1, use_dpd=False, use_syntax=False, user_dir='../src/src_syngec/syngec_model', valid_subset='valid', validate_after_updates=0, validate_interval=1, validate_interval_updates=0, warmup_updates=0, zero_sharding='none')
2023-06-02 11:13:55 | INFO | syngec_model.syntax_guided_gec_task | [src] dictionary: 21132 types
2023-06-02 11:13:55 | INFO | syngec_model.syntax_guided_gec_task | [tgt] dictionary: 21132 types
2023-06-02 11:13:55 | INFO | syngec_model.syntax_guided_gec_task | [syntax label0] dictionary: 51 types
2023-06-02 11:13:55 | INFO | fairseq_cli.interactive | loading model(s) from ../model/finetune-i/yaclc-minimal_dev_1739/seed_6023/checkpoint_best.pt
2023-06-02 11:14:10 | INFO | fairseq_cli.interactive | Sentence buffer size: 10000
2023-06-02 11:14:10 | INFO | fairseq_cli.interactive | NOTE: hypothesis and token scores are output in base 2
2023-06-02 11:14:10 | INFO | fairseq_cli.interactive | Type the input sentence and press return:
0it [00:00, ?it/s]2023-06-02 11:14:11 | INFO | fairseq.data.language_pair_dataset | no syntax information!
/public/home/swfeng/ymliu/ccl23-cltc/src/src_syngec/fairseq-0.10.2/fairseq/search.py:140: UserWarning: __floordiv__ is deprecated, and its behavior will change in a future version of pytorch. It currently rounds toward 0 (like the 'trunc' function NOT 'floor'). This results in incorrect rounding for negative values. To keep the current behavior, use torch.div(a, b, rounding_mode='trunc'), or for actual floor division, use torch.div(a, b, rounding_mode='floor').
  beams_buf = indices_buf // vocab_size
/public/home/swfeng/ymliu/ccl23-cltc/src/src_syngec/fairseq-0.10.2/fairseq/sequence_generator.py:651: UserWarning: __floordiv__ is deprecated, and its behavior will change in a future version of pytorch. It currently rounds toward 0 (like the 'trunc' function NOT 'floor'). This results in incorrect rounding for negative values. To keep the current behavior, use torch.div(a, b, rounding_mode='trunc'), or for actual floor division, use torch.div(a, b, rounding_mode='floor').
  unfin_idx = idx // beam_size
1it [00:02,  2.03s/it]2it [00:02,  1.03s/it]3it [00:02,  1.41it/s]4it [00:03,  1.79it/s]5it [00:03,  2.13it/s]6it [00:03,  2.37it/s]7it [00:03,  2.58it/s]8it [00:04,  2.72it/s]9it [00:04,  2.81it/s]10it [00:04,  2.82it/s]11it [00:05,  2.85it/s]12it [00:05,  2.92it/s]13it [00:05,  2.94it/s]14it [00:06,  2.96it/s]15it [00:06,  2.89it/s]16it [00:07,  2.89it/s]17it [00:07,  2.86it/s]18it [00:07,  2.84it/s]19it [00:08,  2.81it/s]20it [00:08,  2.81it/s]21it [00:08,  2.82it/s]22it [00:09,  2.81it/s]23it [00:09,  2.78it/s]24it [00:09,  2.83it/s]25it [00:10,  2.88it/s]26it [00:10,  2.86it/s]27it [00:10,  2.73it/s]28it [00:11,  2.76it/s]29it [00:11,  2.74it/s]30it [00:12,  2.76it/s]31it [00:12,  2.70it/s]32it [00:12,  2.68it/s]33it [00:13,  2.68it/s]34it [00:13,  2.66it/s]35it [00:14,  2.42it/s]36it [00:14,  2.46it/s]37it [00:14,  2.56it/s]38it [00:15,  2.60it/s]39it [00:15,  2.52it/s]40it [00:15,  2.56it/s]41it [00:16,  2.59it/s]42it [00:16,  2.54it/s]43it [00:17,  2.56it/s]44it [00:17,  2.59it/s]45it [00:17,  2.57it/s]46it [00:18,  2.56it/s]47it [00:18,  2.53it/s]48it [00:19,  2.53it/s]49it [00:19,  2.54it/s]50it [00:19,  2.54it/s]51it [00:20,  2.54it/s]52it [00:20,  2.54it/s]53it [00:21,  2.51it/s]54it [00:21,  2.49it/s]55it [00:21,  2.46it/s]56it [00:22,  2.46it/s]57it [00:22,  2.44it/s]58it [00:23,  2.43it/s]59it [00:23,  2.42it/s]60it [00:24,  2.42it/s]61it [00:24,  2.42it/s]62it [00:24,  2.42it/s]63it [00:25,  2.40it/s]64it [00:25,  2.38it/s]65it [00:26,  2.39it/s]66it [00:26,  2.37it/s]67it [00:26,  2.39it/s]68it [00:27,  2.37it/s]69it [00:27,  2.34it/s]70it [00:28,  2.33it/s]71it [00:28,  2.35it/s]72it [00:29,  2.11it/s]73it [00:29,  2.17it/s]74it [00:30,  2.20it/s]75it [00:30,  2.19it/s]76it [00:31,  2.20it/s]77it [00:31,  2.19it/s]78it [00:31,  2.21it/s]79it [00:32,  2.17it/s]80it [00:32,  2.19it/s]81it [00:33,  2.18it/s]82it [00:33,  2.16it/s]83it [00:34,  2.18it/s]84it [00:34,  2.20it/s]85it [00:35,  2.19it/s]86it [00:35,  2.15it/s]87it [00:36,  2.11it/s]88it [00:36,  2.02it/s]89it [00:37,  2.04it/s]90it [00:37,  2.04it/s]91it [00:38,  2.05it/s]92it [00:38,  2.05it/s]93it [00:39,  2.06it/s]94it [00:39,  2.06it/s]95it [00:40,  1.96it/s]96it [00:40,  1.96it/s]97it [00:41,  2.01it/s]98it [00:41,  2.03it/s]99it [00:42,  2.02it/s]100it [00:42,  2.03it/s]101it [00:43,  2.02it/s]102it [00:43,  1.99it/s]103it [00:44,  1.96it/s]104it [00:44,  1.97it/s]105it [00:45,  2.00it/s]106it [00:45,  2.00it/s]107it [00:46,  1.93it/s]108it [00:46,  1.80it/s]109it [00:47,  1.78it/s]110it [00:47,  1.82it/s]111it [00:48,  1.81it/s]112it [00:49,  1.79it/s]113it [00:49,  1.80it/s]114it [00:50,  1.82it/s]115it [00:50,  1.85it/s]116it [00:51,  1.82it/s]117it [00:51,  1.83it/s]118it [00:52,  1.84it/s]119it [00:52,  1.85it/s]120it [00:53,  1.82it/s]121it [00:54,  1.78it/s]122it [00:54,  1.78it/s]123it [00:55,  1.75it/s]124it [00:55,  1.76it/s]125it [00:56,  1.77it/s]126it [00:56,  1.77it/s]127it [00:57,  1.74it/s]128it [00:58,  1.72it/s]129it [00:58,  1.69it/s]130it [00:59,  1.69it/s]131it [00:59,  1.68it/s]132it [01:00,  1.66it/s]133it [01:01,  1.66it/s]134it [01:01,  1.68it/s]135it [01:02,  1.66it/s]136it [01:02,  1.65it/s]137it [01:03,  1.64it/s]138it [01:04,  1.63it/s]139it [01:04,  1.61it/s]140it [01:05,  1.60it/s]141it [01:06,  1.57it/s]142it [01:06,  1.56it/s]143it [01:07,  1.55it/s]144it [01:08,  1.55it/s]145it [01:08,  1.52it/s]146it [01:09,  1.50it/s]147it [01:10,  1.48it/s]148it [01:10,  1.35it/s]149it [01:11,  1.37it/s]150it [01:12,  1.38it/s]151it [01:13,  1.39it/s]152it [01:13,  1.38it/s]153it [01:14,  1.36it/s]154it [01:15,  1.35it/s]155it [01:16,  1.34it/s]156it [01:17,  1.27it/s]157it [01:17,  1.26it/s]158it [01:18,  1.26it/s]159it [01:19,  1.27it/s]160it [01:20,  1.24it/s]161it [01:21,  1.23it/s]162it [01:21,  1.22it/s]163it [01:22,  1.19it/s]164it [01:23,  1.17it/s]165it [01:24,  1.15it/s]166it [01:25,  1.10it/s]167it [01:26,  1.08it/s]168it [01:27,  1.03it/s]169it [01:28,  1.00s/it]170it [01:29,  1.05s/it]171it [01:31,  1.13s/it]172it [01:32,  1.28s/it]173it [01:34,  1.43s/it]173it [01:34,  1.83it/s]
2023-06-02 11:15:57 | INFO | fairseq_cli.interactive | Total time: 122.485 seconds; translation time: 93.518
Generating Finish!
2 minutes and 6 seconds elapsed.
Generating ...
2023-06-02 11:16:02 | INFO | fairseq_cli.interactive | Namespace(all_gather_list_size=16384, bart_model_file_from_transformers=None, batch_size=32, batch_size_valid=32, beam=12, bf16=False, bpe=None, broadcast_buffers=False, bucket_cap_mb=25, buffer_size=10000, checkpoint_shard_count=1, checkpoint_suffix='', conll_file='', conll_suffix=['conll'], constraints=None, cpu=False, criterion='cross_entropy', curriculum=0, data='../preprocess/yaclc-minimal_dev_1739/bin', data_buffer_size=10, dataset_impl=None, ddp_backend='c10d', decoding_format=None, device_id=0, disable_validation=False, distributed_backend='nccl', distributed_init_method=None, distributed_no_spawn=False, distributed_num_procs=1, distributed_port=-1, distributed_rank=0, distributed_world_size=1, distributed_wrapper='DDP', diverse_beam_groups=-1, diverse_beam_strength=0.5, diversity_rate=-1.0, dpd_file='', dpd_suffix=['dpd'], empty_cache_freq=0, eval_bleu=False, eval_bleu_args=None, eval_bleu_detok='space', eval_bleu_detok_args=None, eval_bleu_print_samples=False, eval_bleu_remove_bpe=None, eval_tokenized_bleu=False, fast_stat_sync=False, find_unused_parameters=False, fix_batches_to_gpus=False, fixed_validation_seed=None, force_anneal=None, fp16=True, fp16_init_scale=128, fp16_no_flatten_grads=False, fp16_scale_tolerance=0.0, fp16_scale_window=None, gen_subset='test', input='-', iter_decode_eos_penalty=0.0, iter_decode_force_max_iter=False, iter_decode_max_iter=10, iter_decode_with_beam=1, iter_decode_with_external_reranker=False, left_pad_source='True', left_pad_target='False', lenpen=1, lm_path=None, lm_weight=0.0, load_alignments=False, localsgd_frequency=3, log_format='tqdm', log_interval=100, lr_scheduler='fixed', lr_shrink=0.1, match_source_len=False, max_len_a=0, max_len_b=200, max_source_positions=512, max_target_positions=1024, max_tokens=None, max_tokens_valid=None, memory_efficient_bf16=False, memory_efficient_fp16=False, min_len=1, min_loss_scale=0.0001, model_overrides='{}', model_parallel_size=1, nbest=1, no_beamable_mm=False, no_early_stop=False, no_progress_bar=False, no_repeat_ngram_size=0, no_seed_provided=False, nprocs_per_node=1, num_batch_buckets=0, num_shards=1, num_workers=12, optimizer=None, output_file='../model/finetune-i/yaclc-minimal_dev_1739/seed_7023/results/yaclc-fluency_test.out.nbest', path='../model/finetune-i/yaclc-minimal_dev_1739/seed_7023/checkpoint_best.pt', pipeline_balance=None, pipeline_checkpoint='never', pipeline_chunks=0, pipeline_decoder_balance=None, pipeline_decoder_devices=None, pipeline_devices=None, pipeline_encoder_balance=None, pipeline_encoder_devices=None, pipeline_model_parallel=False, prefix_size=0, print_alignment=False, print_step=False, probs_file='', probs_suffix=['probs'], profile=False, quantization_config_path=None, quiet=False, remove_bpe='@@ ', replace_unk=None, required_batch_size_multiple=8, required_seq_len_multiple=1, results_path=None, retain_dropout=False, retain_dropout_modules=None, retain_iter_history=False, sacrebleu=False, sampling=False, sampling_topk=-1, sampling_topp=-1.0, score_reference=False, scoring='bleu', seed=1, shard_id=0, skip_invalid_size_inputs_valid_test=False, slowmo_algorithm='LocalSGD', slowmo_momentum=None, source_lang='src', source_lang_with_nt='src_nt', src_nt_file=None, swm_suffix='swm', syntax_encoder='GCN', syntax_model_file=None, syntax_type=['dep'], target_lang='tgt', task='syntax-enhanced-translation', temperature=1.0, tensorboard_logdir=None, threshold_loss_scale=None, tokenizer=None, tpu=False, train_subset='train', truncate_source=False, unkpen=0, unnormalized=False, upsample_primary=1, use_dpd=False, use_syntax=False, user_dir='../src/src_syngec/syngec_model', valid_subset='valid', validate_after_updates=0, validate_interval=1, validate_interval_updates=0, warmup_updates=0, zero_sharding='none')
2023-06-02 11:16:02 | INFO | syngec_model.syntax_guided_gec_task | [src] dictionary: 21132 types
2023-06-02 11:16:02 | INFO | syngec_model.syntax_guided_gec_task | [tgt] dictionary: 21132 types
2023-06-02 11:16:02 | INFO | syngec_model.syntax_guided_gec_task | [syntax label0] dictionary: 51 types
2023-06-02 11:16:02 | INFO | fairseq_cli.interactive | loading model(s) from ../model/finetune-i/yaclc-minimal_dev_1739/seed_7023/checkpoint_best.pt
2023-06-02 11:16:18 | INFO | fairseq_cli.interactive | Sentence buffer size: 10000
2023-06-02 11:16:18 | INFO | fairseq_cli.interactive | NOTE: hypothesis and token scores are output in base 2
2023-06-02 11:16:18 | INFO | fairseq_cli.interactive | Type the input sentence and press return:
0it [00:00, ?it/s]2023-06-02 11:16:18 | INFO | fairseq.data.language_pair_dataset | no syntax information!
/public/home/swfeng/ymliu/ccl23-cltc/src/src_syngec/fairseq-0.10.2/fairseq/search.py:140: UserWarning: __floordiv__ is deprecated, and its behavior will change in a future version of pytorch. It currently rounds toward 0 (like the 'trunc' function NOT 'floor'). This results in incorrect rounding for negative values. To keep the current behavior, use torch.div(a, b, rounding_mode='trunc'), or for actual floor division, use torch.div(a, b, rounding_mode='floor').
  beams_buf = indices_buf // vocab_size
/public/home/swfeng/ymliu/ccl23-cltc/src/src_syngec/fairseq-0.10.2/fairseq/sequence_generator.py:651: UserWarning: __floordiv__ is deprecated, and its behavior will change in a future version of pytorch. It currently rounds toward 0 (like the 'trunc' function NOT 'floor'). This results in incorrect rounding for negative values. To keep the current behavior, use torch.div(a, b, rounding_mode='trunc'), or for actual floor division, use torch.div(a, b, rounding_mode='floor').
  unfin_idx = idx // beam_size
1it [00:02,  2.09s/it]2it [00:02,  1.05s/it]3it [00:02,  1.40it/s]4it [00:03,  1.77it/s]5it [00:03,  2.11it/s]6it [00:03,  2.39it/s]7it [00:04,  2.61it/s]8it [00:04,  2.72it/s]9it [00:04,  2.82it/s]10it [00:04,  2.88it/s]11it [00:05,  2.89it/s]12it [00:05,  2.98it/s]13it [00:05,  3.05it/s]14it [00:06,  3.04it/s]15it [00:06,  3.05it/s]16it [00:06,  3.05it/s]17it [00:07,  2.99it/s]18it [00:07,  2.96it/s]19it [00:07,  2.94it/s]20it [00:08,  2.97it/s]21it [00:08,  2.94it/s]22it [00:09,  2.93it/s]23it [00:09,  2.91it/s]24it [00:09,  2.96it/s]25it [00:10,  2.99it/s]26it [00:10,  2.98it/s]27it [00:10,  2.91it/s]28it [00:11,  2.91it/s]29it [00:11,  2.82it/s]30it [00:11,  2.81it/s]31it [00:12,  2.80it/s]32it [00:12,  2.79it/s]33it [00:12,  2.78it/s]34it [00:13,  2.78it/s]35it [00:13,  2.56it/s]36it [00:14,  2.59it/s]37it [00:14,  2.68it/s]38it [00:14,  2.71it/s]39it [00:15,  2.66it/s]40it [00:15,  2.68it/s]41it [00:15,  2.70it/s]42it [00:16,  2.63it/s]43it [00:16,  2.66it/s]44it [00:17,  2.66it/s]45it [00:17,  2.64it/s]46it [00:17,  2.63it/s]47it [00:18,  2.64it/s]48it [00:18,  2.64it/s]49it [00:18,  2.65it/s]50it [00:19,  2.64it/s]51it [00:19,  2.68it/s]52it [00:20,  2.70it/s]53it [00:20,  2.64it/s]54it [00:20,  2.59it/s]55it [00:21,  2.56it/s]56it [00:21,  2.51it/s]57it [00:22,  2.51it/s]58it [00:22,  2.49it/s]59it [00:22,  2.49it/s]60it [00:23,  2.50it/s]61it [00:23,  2.49it/s]62it [00:24,  2.46it/s]63it [00:24,  2.49it/s]64it [00:24,  2.45it/s]65it [00:25,  2.43it/s]66it [00:25,  2.36it/s]67it [00:26,  2.36it/s]68it [00:26,  2.37it/s]69it [00:27,  2.37it/s]70it [00:27,  2.38it/s]71it [00:27,  2.20it/s]72it [00:28,  2.09it/s]73it [00:28,  2.17it/s]74it [00:29,  2.24it/s]75it [00:29,  2.26it/s]76it [00:30,  2.26it/s]77it [00:30,  2.26it/s]78it [00:31,  2.22it/s]79it [00:31,  2.17it/s]80it [00:32,  2.21it/s]81it [00:32,  2.20it/s]82it [00:33,  2.16it/s]83it [00:33,  2.19it/s]84it [00:33,  2.19it/s]85it [00:34,  2.22it/s]86it [00:34,  2.19it/s]87it [00:35,  2.17it/s]88it [00:35,  2.16it/s]89it [00:36,  2.17it/s]90it [00:36,  2.18it/s]91it [00:37,  2.20it/s]92it [00:37,  2.16it/s]93it [00:38,  2.15it/s]94it [00:38,  2.14it/s]95it [00:38,  2.15it/s]96it [00:39,  2.14it/s]97it [00:39,  2.16it/s]98it [00:40,  2.14it/s]99it [00:40,  2.11it/s]100it [00:41,  2.11it/s]101it [00:41,  2.08it/s]102it [00:42,  2.07it/s]103it [00:42,  2.06it/s]104it [00:43,  2.05it/s]105it [00:43,  2.04it/s]106it [00:44,  2.05it/s]107it [00:44,  1.99it/s]108it [00:45,  1.81it/s]109it [00:46,  1.80it/s]110it [00:46,  1.83it/s]111it [00:47,  1.82it/s]112it [00:47,  1.81it/s]113it [00:48,  1.84it/s]114it [00:48,  1.86it/s]115it [00:49,  1.87it/s]116it [00:49,  1.86it/s]117it [00:50,  1.87it/s]118it [00:50,  1.86it/s]119it [00:51,  1.87it/s]120it [00:52,  1.82it/s]121it [00:52,  1.80it/s]122it [00:53,  1.82it/s]123it [00:53,  1.81it/s]124it [00:54,  1.81it/s]125it [00:54,  1.80it/s]126it [00:55,  1.77it/s]127it [00:55,  1.73it/s]128it [00:56,  1.69it/s]129it [00:57,  1.72it/s]130it [00:57,  1.71it/s]131it [00:58,  1.73it/s]132it [00:58,  1.72it/s]133it [00:59,  1.70it/s]134it [01:00,  1.69it/s]135it [01:00,  1.68it/s]136it [01:01,  1.67it/s]137it [01:01,  1.68it/s]138it [01:02,  1.66it/s]139it [01:03,  1.63it/s]140it [01:03,  1.62it/s]141it [01:04,  1.62it/s]142it [01:05,  1.59it/s]143it [01:05,  1.58it/s]144it [01:06,  1.57it/s]145it [01:07,  1.54it/s]146it [01:07,  1.52it/s]147it [01:08,  1.51it/s]148it [01:09,  1.38it/s]149it [01:09,  1.39it/s]150it [01:10,  1.41it/s]151it [01:11,  1.43it/s]152it [01:12,  1.42it/s]153it [01:12,  1.41it/s]154it [01:13,  1.39it/s]155it [01:14,  1.38it/s]156it [01:15,  1.33it/s]157it [01:15,  1.31it/s]158it [01:16,  1.30it/s]159it [01:17,  1.30it/s]160it [01:18,  1.27it/s]161it [01:19,  1.26it/s]162it [01:19,  1.24it/s]163it [01:20,  1.21it/s]164it [01:21,  1.19it/s]165it [01:22,  1.16it/s]166it [01:23,  1.13it/s]167it [01:24,  1.09it/s]168it [01:25,  1.05it/s]169it [01:26,  1.02it/s]170it [01:27,  1.03s/it]171it [01:29,  1.11s/it]172it [01:30,  1.25s/it]173it [01:32,  1.40s/it]173it [01:32,  1.87it/s]
2023-06-02 11:18:02 | INFO | fairseq_cli.interactive | Total time: 119.442 seconds; translation time: 91.299
Generating Finish!
2 minutes and 5 seconds elapsed.
